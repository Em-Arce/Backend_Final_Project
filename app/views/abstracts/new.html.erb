<div>
  <h2>Abstract Submission</h2>
  <div class="field form-group mb-6">
    <%= form_with model: [ @user, @abstract ], local: true do |f| %>
      <% if @abstract.errors.any? %>
        <div id="error_explanation">
          <h5>The form contains <%= pluralize(@trade.errors.count, "error") %></h5>
          <ul>
            <% @trade.errors.full_messages.each do |m| %>
              <li><%= m %></li>
            <% end %>
          </ul>
        </div>
      <% end %>

      <div class="field form-group mb-6">
        <%= f.label :title %><br />
        <%= f.text_field :title, class: "form-control" %>
      </div>

      <div class="field form-group mb-6">
        <%= f.label :main_author %><br />
        <%= f.text_field :main_author, class: "form-control" %>
      </div>

      <div class="field form-group mb-6">
        <%= f.label :co_authors %><br />
        <%= f.select( :co_authors, User.all.collect {|user| [user.co_author_properties, user.id ]}, {}, { :multiple=> true, class: "form-select form-select-md mb-6" } ) %>

        <%#abstract_subform_fields.select( :co_authors1, User.all.collect {|user| [user.co_author_properties, user.co_author_properties ]}, {}, { :multiple=> true, class: "form-select form-select-md mb-6" } )%>
      </div>

      <div class="field form-group mb-6">
        <%= f.label :body %><br />
        <%= f.text_area :body, size: "25x10", class: "form-control" %>
      </div>

      <div class="actions">
        <%= f.submit "Submit", class: "btn btn-gray" %>
      </div>
    <% end %>
  </div>
</div>
